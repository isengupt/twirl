(this["webpackJsonpthree-template"]=this["webpackJsonpthree-template"]||[]).push([[0],{18:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var i=n(5),a=n(8),s=n.n(a),r=n(11),o=n.n(r),c=(n(18),n(0)),h=n(4),m=n(7),l=n(1),d=n(2),u=n(3),f=n(12),v=n(19)[Math.floor(100*Math.random())],g=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var i;return Object(c.a)(this,n),(i=t.call(this,e)).setupResize=function(){window.addEventListener("resize",i.resize)},i.resize=function(){i.width=i.container.offsetWidth,i.height=i.container.offsetHeight,i.renderer.setSize(i.width,i.height),i.camera.aspect=i.width/i.height,console.log("resize"),i.imageAspect=853/1280,i.camera.updateProjectionMatrix(),console.log(i.camera)},i.start=i.start.bind(Object(m.a)(i)),i.stop=i.stop.bind(Object(m.a)(i)),i.animate=i.animate.bind(Object(m.a)(i)),i}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.scene=new u.j,this.renderer=new u.r({antialias:!0}),this.width=this.mount.clientWidth,this.height=this.mount.clientHeight,this.renderer.setClearColor("#000",1),this.renderer.setSize(this.width,this.height),this.renderer.physicallyCorrectLights=!0,this.renderer.outputEncoding=u.s,this.container=document.getElementById("scene"),this.mount.appendChild(this.renderer.domElement),this.camera=new u.h(50,this.width/this.height,.01,100),this.camera.position.set(0,0,6),this.controls=new f.a(this.camera,this.renderer.domElement),this.time=0,this.setupResize(),this.addObjects(),this.animate(),this.resize()}},{key:"addObjects",value:function(){function e(e,t){return e+Math.random()*(t-e)}this.material=new u.k({extensions:{derivatives:"#extension GL_OES_standard_derivatives : enable"},side:u.d,uniforms:{time:{type:"f",value:0},offset:{type:"f",value:0},color:{type:"v3",value:new u.c("#000000")},resolution:{type:"v4",value:new u.q},uvRate1:{value:new u.o(1,1)}},vertexShader:"\n\nvarying vec2 vUv;\n\n  void main() {\n    vUv = uv;\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position,1.0);\n}\n",fragmentShader:"\n\nuniform float time;\nuniform float progress;\nuniform vec3 color;\nuniform float offset;\nuniform sampler2D texture1;\nuniform vec4 resolution;\n\nvarying vec2 vUv;\nvarying vec3 vPosition;\nfloat PI = 3.141592653589793238;\n\nfloat qinticOut(float t) {\n  return 1.0 - (pow(t - 1.0, 5.0));\n}\nvoid main(){\n\n\n\n  float localProgress = mod(mod(time*2. ,1.) + offset*1.,1.);\n\n  localProgress = qinticOut(localProgress/2.) * 2.;\n\n  if (vUv.x > localProgress || vUv.x + 0.8 < localProgress) discard;\n  gl_FragColor = vec4(color,1.);\n  \n\n}\n"}),this.animated=[];this.scene.rotation.z=Math.PI/9;for(var t=0;t<250;t++){for(var n=e(-300,300),i=n/300,a=130*i*i+10*Math.random(),s=[],r=Math.abs(i),o=e(0,2*Math.PI),c=.5*Math.random()+.5,h={x:e(-2,2),y:e(-2,2)},m=0;m<=100*c;m++){var l=h.x+a*Math.sin(2*Math.PI*m/100),d=h.y+a*Math.cos(2*Math.PI*m/100);s.push(new u.p(l,n,d))}var f=new u.b(s),g={scale:4,extrusionSegments:400,radiusSegments:16,closed:!1},p=new u.n(f,g.extrusionSegments,.5,g.radiusSegments,g.closed),j=new u.n(f,g.extrusionSegments,1,g.radiusSegments,g.closed),b=this.material.clone(),w=this.material.clone();b.uniforms.color.value=new u.c(v[Math.floor(5*Math.random())]),b.uniforms.offset.value=r,w.uniforms.offset.value=r,w.side=u.a;var x=new u.g(p,b),O=new u.g(j,w);x.scale.set(.01,.01,.01),O.scale.set(.01,.01,.01),x.rotation.y=O.rotation.y=o,this.scene.add(x),this.scene.add(O),this.animated.push({mesh:x,material:b,material1:w})}}},{key:"componentWillUnmount",value:function(){this.stop(),this.mount.removeChild(this.renderer.domElement)}},{key:"start",value:function(){this.frameId||(this.frameId=requestAnimationFrame(this.animate))}},{key:"stop",value:function(){cancelAnimationFrame(this.frameId)}},{key:"animate",value:function(){var e=this;this.time+=.01,this.animated.forEach((function(t){t.material.uniforms.time.value=e.time,t.material1.uniforms.time.value=e.time})),this.frameId=requestAnimationFrame(this.animate),this.renderScene()}},{key:"renderScene",value:function(){this.renderer.render(this.scene,this.camera)}},{key:"render",value:function(){var e=this;return Object(i.jsx)("div",{id:"scene",ref:function(t){e.mount=t}})}}]),n}(a.Component);var p=function(){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{className:"frame",children:[Object(i.jsx)("h1",{className:"frame__title",children:"Twirl"}),Object(i.jsx)("div",{className:"frame__links"}),Object(i.jsxs)("div",{className:"frame__nav",children:[Object(i.jsx)("a",{className:"frame__link",href:"https://isengupt.github.io/fiber-website/",children:"Previous"}),Object(i.jsx)("a",{className:"frame__link",href:"#",children:"Resume"}),Object(i.jsx)("a",{className:"frame__link",href:"https://github.com/isengupt/twirl",children:"GitHub"})]})]}),Object(i.jsx)(g,{})]})};o.a.render(Object(i.jsx)(s.a.StrictMode,{children:Object(i.jsx)(p,{})}),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.c8cff1fd.chunk.js.map